
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Pythonの例外処理を学ぼう！try-exceptでエラーに強いプログラムを作る</title>
  <meta name="description" content="プログラム実行中に予期せぬエラーで停止してしまうのを防ぐ「例外処理」。この記事では、Pythonのtry-except文を使ったエラーハンドリングの基本を、初心者にも分かりやすく解説します。">
  <link rel="stylesheet" href="/style.css">
  <meta property="og:title" content="Pythonの例外処理を学ぼう！try-exceptでエラーに強いプログラムを作る">
<meta property="og:description" content="プログラム実行中に予期せぬエラーで停止してしまうのを防ぐ「例外処理」。この記事では、Pythonのtry-except文を使ったエラーハンドリングの基本を、初心者にも分かりやすく解説します。">
<meta name="keywords" content="[AI, Gemini, 自動生成, Python, 例外処理, try, except, エラーハンドリング, プログラミング初心者]">
</head>
<body>
  <header><h1><a href="/">IT学習ブログ</a></h1></header>
  <main>
    
      <p>この記事はAIによって自動生成されています。</p>
<h1>Pythonの例外処理を学ぼう！try-exceptでエラーに強いプログラムを作る</h1>
<p>プログラミングをしていると、様々なエラーに遭遇します。例えば、数値を0で割ろうとしたり（<code>ZeroDivisionError</code>）、文字を数値に変換しようとしたり（<code>ValueError</code>）すると、プログラムはエラーメッセージを表示して停止してしまいます。</p>
<p>このような予期せぬエラーが発生しても、プログラムを強制終了させずに、適切に対処するための仕組みが「例外処理」です。Pythonでは、主に <code>try-except</code> 文を使って例外処理を行います。</p>
<h2>1. <code>try-except</code> の基本的な使い方</h2>
<p><code>try-except</code> の基本的な考え方はシンプルです。</p>
<ul>
<li><strong><code>try</code> ブロック</strong>: エラーが発生する可能性のある処理をこの中に書きます。</li>
<li><strong><code>except</code> ブロック</strong>: <code>try</code> ブロック内でエラーが発生した場合に、実行したい処理をこの中に書きます。</li>
</ul>
<p><strong>構文:</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66D9EF">try</span><span style="color: #F8F8F2">:</span>
    <span style="color: #959077"># エラーが発生するかもしれない処理</span>
<span style="color: #66D9EF">except</span><span style="color: #F8F8F2">:</span>
    <span style="color: #959077"># エラーが発生した時の処理</span>
</code></pre></div>

<p><strong>具体例: ゼロ除算エラー</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66D9EF">try</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">num</span> <span style="color: #FF4689">=</span> <span style="color: #AE81FF">10</span> <span style="color: #FF4689">/</span> <span style="color: #AE81FF">0</span>  <span style="color: #959077"># ここでエラーが発生！</span>
    <span style="color: #F8F8F2">print(num)</span>
<span style="color: #66D9EF">except</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">&quot;エラーが発生しました。0で割ることはできません。&quot;</span><span style="color: #F8F8F2">)</span>

<span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">&quot;プログラムは停止せずに、ここまで実行されます。&quot;</span><span style="color: #F8F8F2">)</span>

<span style="color: #959077"># 出力:</span>
<span style="color: #959077"># エラーが発生しました。0で割ることはできません。</span>
<span style="color: #959077"># プログラムは停止せずに、ここまで実行されます。</span>
</code></pre></div>

<p><code>try</code> ブロックでエラーが発生すると、Pythonは即座に <code>except</code> ブロックにジャンプします。そのため、プログラムがクラッシュすることなく、後続の処理を続けることができます。</p>
<h2>2. 特定のエラーをキャッチする</h2>
<p><code>except</code> の後にエラーの種類（例外クラス）を指定することで、特定のエラーだけを狙ってキャッチすることができます。</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66D9EF">try</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">num_str</span> <span style="color: #FF4689">=</span> <span style="color: #F8F8F2">input(</span><span style="color: #E6DB74">&quot;数字を入力してください: &quot;</span><span style="color: #F8F8F2">)</span>
    <span style="color: #F8F8F2">num</span> <span style="color: #FF4689">=</span> <span style="color: #F8F8F2">int(num_str)</span>
    <span style="color: #F8F8F2">result</span> <span style="color: #FF4689">=</span> <span style="color: #AE81FF">100</span> <span style="color: #FF4689">/</span> <span style="color: #F8F8F2">num</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">f&quot;100を{</span><span style="color: #F8F8F2">num</span><span style="color: #E6DB74">}で割った結果は {</span><span style="color: #F8F8F2">result</span><span style="color: #E6DB74">} です。&quot;</span><span style="color: #F8F8F2">)</span>

<span style="color: #66D9EF">except</span> <span style="color: #A6E22E">ValueError</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">&quot;エラー: 数字以外が入力されました。&quot;</span><span style="color: #F8F8F2">)</span>

<span style="color: #66D9EF">except</span> <span style="color: #A6E22E">ZeroDivisionError</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">&quot;エラー: 0で割ることはできません。&quot;</span><span style="color: #F8F8F2">)</span>

<span style="color: #66D9EF">except</span> <span style="color: #A6E22E">Exception</span> <span style="color: #66D9EF">as</span> <span style="color: #F8F8F2">e:</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">f&quot;予期せぬエラーが発生しました: {</span><span style="color: #F8F8F2">e</span><span style="color: #E6DB74">}&quot;</span><span style="color: #F8F8F2">)</span>
</code></pre></div>

<p>この例では、
*   もしユーザーが「abc」のような文字を入力すると <code>ValueError</code> が発生し、最初の <code>except</code> ブロックが実行されます。
*   もしユーザーが「0」を入力すると <code>ZeroDivisionError</code> が発生し、2番目の <code>except</code> ブロックが実行されます。
*   <code>Exception as e</code> は、それ以外の予期せぬエラーをすべてキャッチするための記述です。</p>
<h2>3. <code>else</code> と <code>finally</code></h2>
<p><code>try-except</code> 文には、<code>else</code> と <code>finally</code> というブロックを追加することもできます。</p>
<h3><code>else</code> - エラーがなかった場合に実行</h3>
<p><code>else</code> ブロックは、<code>try</code> ブロックで<strong>エラーが発生しなかった場合</strong>にのみ実行されます。</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66D9EF">try</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">num</span> <span style="color: #FF4689">=</span> <span style="color: #F8F8F2">int(input(</span><span style="color: #E6DB74">&quot;割る数を入力してください: &quot;</span><span style="color: #F8F8F2">))</span>
    <span style="color: #F8F8F2">result</span> <span style="color: #FF4689">=</span> <span style="color: #AE81FF">100</span> <span style="color: #FF4689">/</span> <span style="color: #F8F8F2">num</span>
<span style="color: #66D9EF">except</span> <span style="color: #A6E22E">ValueError</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">&quot;数字を入力してください。&quot;</span><span style="color: #F8F8F2">)</span>
<span style="color: #66D9EF">else</span><span style="color: #F8F8F2">:</span>
    <span style="color: #959077"># エラーがなかった時だけ実行</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">f&quot;計算成功！結果は {</span><span style="color: #F8F8F2">result</span><span style="color: #E6DB74">} です。&quot;</span><span style="color: #F8F8F2">)</span>
</code></pre></div>

<h3><code>finally</code> - 常に最後に実行</h3>
<p><code>finally</code> ブロックは、<strong>エラーが発生したかどうかに関わらず、必ず最後に実行</strong>されます。ファイルを開いた後に必ず閉じたい場合など、後片付け処理によく使われます。</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%;"><span></span><code><span style="color: #66D9EF">try</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">f</span> <span style="color: #FF4689">=</span> <span style="color: #F8F8F2">open(</span><span style="color: #E6DB74">&quot;somefile.txt&quot;</span><span style="color: #F8F8F2">,</span> <span style="color: #E6DB74">&quot;r&quot;</span><span style="color: #F8F8F2">)</span>
    <span style="color: #959077"># ... ファイル処理 ...</span>
<span style="color: #66D9EF">except</span> <span style="color: #A6E22E">FileNotFoundError</span><span style="color: #F8F8F2">:</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">&quot;ファイルが見つかりません。&quot;</span><span style="color: #F8F8F2">)</span>
<span style="color: #66D9EF">finally</span><span style="color: #F8F8F2">:</span>
    <span style="color: #959077"># エラーがあってもなくても、必ず実行</span>
    <span style="color: #F8F8F2">print(</span><span style="color: #E6DB74">&quot;処理を終了します。&quot;</span><span style="color: #F8F8F2">)</span>
</code></pre></div>

<h2>まとめ</h2>
<p>今回は、エラーに強いプログラムを作るための例外処理について学びました。</p>
<ul>
<li><strong><code>try</code></strong>: エラーが起こりうる処理を書く場所。</li>
<li><strong><code>except</code></strong>: エラーが起きた時の対処を書く場所。</li>
<li><strong><code>else</code></strong>: エラーが起きなかった時に実行される。</li>
<li><strong><code>finally</code></strong>: エラーの有無に関わらず、最後に必ず実行される。</li>
</ul>
<p>例外処理を適切に使うことで、ユーザーにとって親切で、安定したプログラムを作成することができます。ぜひマスターしておきましょう。</p>
<hr />
<h2>この記事はAI（Gemini API）によって自動生成されています。内容の正確性は保証されません。</h2>
    
  </main>
  <footer><small>© 2025 IT School Blog</small></footer>
</body>
</html>