
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Pythonの例外処理を学ぼう！try-exceptでエラーに強いプログラムを作る</title>
  <meta name="description" content="プログラム実行中に予期せぬエラーで停止してしまうのを防ぐ「例外処理」。この記事では、Pythonのtry-except文を使ったエラーハンドリングの基本を、初心者にも分かりやすく解説します。">
  <link rel="stylesheet" href="/style.css">
  <meta property="og:title" content="Pythonの例外処理を学ぼう！try-exceptでエラーに強いプログラムを作る">
<meta property="og:description" content="プログラム実行中に予期せぬエラーで停止してしまうのを防ぐ「例外処理」。この記事では、Pythonのtry-except文を使ったエラーハンドリングの基本を、初心者にも分かりやすく解説します。">
<meta name="keywords" content="[AI, Gemini, 自動生成, Python, 例外処理, try, except, エラーハンドリング, プログラミング初心者]">
</head>
<body>
  <header><h1><a href="/">IT学習ブログ</a></h1></header>
  <main>
    
      <p>この記事はAIによって自動生成されています。</p>
<h1>Pythonの例外処理を学ぼう！try-exceptでエラーに強いプログラムを作る</h1>
<p>プログラミングをしていると、様々なエラーに遭遇します。例えば、数値を0で割ろうとしたり（<code>ZeroDivisionError</code>）、文字を数値に変換しようとしたり（<code>ValueError</code>）すると、プログラムはエラーメッセージを表示して停止してしまいます。</p>
<p>このような予期せぬエラーが発生しても、プログラムを強制終了させずに、適切に対処するための仕組みが「例外処理」です。Pythonでは、主に <code>try-except</code> 文を使って例外処理を行います。</p>
<h2>1. <code>try-except</code> の基本的な使い方</h2>
<p><code>try-except</code> の基本的な考え方はシンプルです。</p>
<ul>
<li><strong><code>try</code> ブロック</strong>: エラーが発生する可能性のある処理をこの中に書きます。</li>
<li><strong><code>except</code> ブロック</strong>: <code>try</code> ブロック内でエラーが発生した場合に、実行したい処理をこの中に書きます。</li>
</ul>
<p><strong>構文:</strong></p>
<pre><code class="language-python">try:
    # エラーが発生するかもしれない処理
except:
    # エラーが発生した時の処理
</code></pre>
<p><strong>具体例: ゼロ除算エラー</strong></p>
<pre><code class="language-python">try:
    num = 10 / 0  # ここでエラーが発生！
    print(num)
except:
    print(&quot;エラーが発生しました。0で割ることはできません。&quot;)

print(&quot;プログラムは停止せずに、ここまで実行されます。&quot;)

# 出力:
# エラーが発生しました。0で割ることはできません。
# プログラムは停止せずに、ここまで実行されます。
</code></pre>
<p><code>try</code> ブロックでエラーが発生すると、Pythonは即座に <code>except</code> ブロックにジャンプします。そのため、プログラムがクラッシュすることなく、後続の処理を続けることができます。</p>
<h2>2. 特定のエラーをキャッチする</h2>
<p><code>except</code> の後にエラーの種類（例外クラス）を指定することで、特定のエラーだけを狙ってキャッチすることができます。</p>
<pre><code class="language-python">try:
    num_str = input(&quot;数字を入力してください: &quot;)
    num = int(num_str)
    result = 100 / num
    print(f&quot;100を{num}で割った結果は {result} です。&quot;)

except ValueError:
    print(&quot;エラー: 数字以外が入力されました。&quot;)

except ZeroDivisionError:
    print(&quot;エラー: 0で割ることはできません。&quot;)

except Exception as e:
    print(f&quot;予期せぬエラーが発生しました: {e}&quot;)
</code></pre>
<p>この例では、
*   もしユーザーが「abc」のような文字を入力すると <code>ValueError</code> が発生し、最初の <code>except</code> ブロックが実行されます。
*   もしユーザーが「0」を入力すると <code>ZeroDivisionError</code> が発生し、2番目の <code>except</code> ブロックが実行されます。
*   <code>Exception as e</code> は、それ以外の予期せぬエラーをすべてキャッチするための記述です。</p>
<h2>3. <code>else</code> と <code>finally</code></h2>
<p><code>try-except</code> 文には、<code>else</code> と <code>finally</code> というブロックを追加することもできます。</p>
<h3><code>else</code> - エラーがなかった場合に実行</h3>
<p><code>else</code> ブロックは、<code>try</code> ブロックで<strong>エラーが発生しなかった場合</strong>にのみ実行されます。</p>
<pre><code class="language-python">try:
    num = int(input(&quot;割る数を入力してください: &quot;))
    result = 100 / num
except ValueError:
    print(&quot;数字を入力してください。&quot;)
else:
    # エラーがなかった時だけ実行
    print(f&quot;計算成功！結果は {result} です。&quot;)
</code></pre>
<h3><code>finally</code> - 常に最後に実行</h3>
<p><code>finally</code> ブロックは、<strong>エラーが発生したかどうかに関わらず、必ず最後に実行</strong>されます。ファイルを開いた後に必ず閉じたい場合など、後片付け処理によく使われます。</p>
<pre><code class="language-python">try:
    f = open(&quot;somefile.txt&quot;, &quot;r&quot;)
    # ... ファイル処理 ...
except FileNotFoundError:
    print(&quot;ファイルが見つかりません。&quot;)
finally:
    # エラーがあってもなくても、必ず実行
    print(&quot;処理を終了します。&quot;)
</code></pre>
<h2>まとめ</h2>
<p>今回は、エラーに強いプログラムを作るための例外処理について学びました。</p>
<ul>
<li><strong><code>try</code></strong>: エラーが起こりうる処理を書く場所。</li>
<li><strong><code>except</code></strong>: エラーが起きた時の対処を書く場所。</li>
<li><strong><code>else</code></strong>: エラーが起きなかった時に実行される。</li>
<li><strong><code>finally</code></strong>: エラーの有無に関わらず、最後に必ず実行される。</li>
</ul>
<p>例外処理を適切に使うことで、ユーザーにとって親切で、安定したプログラムを作成することができます。ぜひマスターしておきましょう。</p>
<hr />
<h2>この記事はAI（Gemini API）によって自動生成されています。内容の正確性は保証されません。</h2>
    
  </main>
  <footer><small>© 2025 IT School Blog</small></footer>
</body>
</html>